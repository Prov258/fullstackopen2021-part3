{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/numbers.js","components/Notification.js","App.js","index.js"],"names":["Filter","inputValue","inputChange","value","onChange","PersonForm","props","onSubmit","nameValue","onChangeName","numberValue","onChangeNumber","type","Person","person","name","number","onClick","deleteNumberHandler","Persons","persons","filterNames","map","toLowerCase","includes","id","baseUrl","axios","get","then","response","data","catch","error","alert","newObject","post","delete","put","Notification","message","messageStyle","border","borderColor","color","padding","display","marginBottom","minWidth","fontSize","fontWeight","backgroundColor","style","content","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilterNames","actionMessage","setMessage","useEffect","numberService","showMessage","setTimeout","e","target","preventDefault","alreadyAddedPerson","find","window","confirm","updatedPerson","filter","p","concat","err","deletedPersonName","status","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6b96b11.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ inputValue, inputChange }) => {\r\n    return (\r\n        <div>\r\n          <span>filter shown with </span>\r\n          <input value={inputValue} onChange={inputChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.onSubmit} >\r\n            <div>\r\n                name: <input value={props.nameValue} onChange={props.onChangeName} />\r\n            </div>\r\n            <div>\r\n                number: <input value={props.numberValue} onChange={props.onChangeNumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","import React from \"react\";\r\n\r\nconst Person = (props) => {\r\n    return (\r\n        <li><span>{props.person.name}: {props.person.number} </span><button onClick={props.deleteNumberHandler} >delete</button></li>\r\n    )\r\n}\r\n\r\nexport default Person;","import React from \"react\";\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ persons, filterNames, deleteNumberHandler }) => {\r\n\r\n    const displayPersonsHandler = (person) => {\r\n        return person.name.toLowerCase().includes(filterNames.toLowerCase())\r\n          ? <Person key={person.name} person={person} deleteNumberHandler={() => deleteNumberHandler(person.id, person.name)} />\r\n          : null\r\n    }\r\n\r\n    return (\r\n        <ul>\r\n            {persons.map(displayPersonsHandler)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Persons;","import axios from \"axios\";\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n        .catch(error => {\r\n          alert(\"Something went wrong.\", error);\r\n        });\r\n}\r\n\r\nconst create = (newObject) => {\r\n    return axios\r\n        .post(baseUrl, newObject)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`)\r\n\r\nconst update = (id, newObject) => {\r\n    return axios\r\n        .put(`${baseUrl}/${id}`, newObject)\r\n        .then(response => response.data)\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default { getAll, create, remove, update }","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n    if(!message){\r\n        return null;\r\n    }\r\n\r\n    const messageStyle = {\r\n        border: \"5px solid\",\r\n        borderColor: message.color,\r\n        padding: \"10px\",\r\n        display: \"inline-block\",\r\n        marginBottom: \"10px\",\r\n        minWidth: \"200px\",\r\n        fontSize: \"18px\",\r\n        fontWeight: \"700\",\r\n        backgroundColor: \"lightgray\"\r\n    }\r\n\r\n    return <div style={messageStyle}>{message.content}</div>\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport numberService from './services/numbers'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterNames, setFilterNames ] = useState('')\n  const [ actionMessage, setMessage ] = useState(null)\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then(data => {\n        setPersons(data);\n      })\n  }, []);\n\n  const showMessage = (content, color = \"green\") => {\n    setMessage({content, color})\n    setTimeout(() => {\n      setMessage(null)\n    }, 5000)\n  }\n\n  const submitNumberHandler = (e) => {\n    e.preventDefault();\n    const alreadyAddedPerson = persons.find(person => person.name === newName);\n    if(!alreadyAddedPerson){\n      numberService\n        .create({name: newName, number: newNumber})\n        .then(data => {\n          setPersons(persons.concat(data))\n          showMessage(`Added ${newName}`)\n        })\n        .catch(err => {\n          showMessage(err.response.data.error, \"red\")\n        })\n    } else {\n      if(window.confirm(`${alreadyAddedPerson.name} is already added to phonebook, replace the old number with a new one?`)){\n        numberService\n          .update(alreadyAddedPerson.id, {...alreadyAddedPerson, number: newNumber})\n          .then(updatedPerson => {\n              setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n              showMessage(`${updatedPerson.name} is changed`)\n          })\n          .catch(() => {\n            showMessage(`${alreadyAddedPerson.name} was already removed from server`, \"red\");\n            setPersons(persons.filter(p => p.id !== alreadyAddedPerson.id))\n          })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deleteNumberHandler = (id, name) => {\n    if(window.confirm(`Delete ${name} ?`)){\n      const deletedPersonName = persons.find(person => person.id === id).name\n      numberService\n      .remove(id)\n      .then(response => {\n        if(response.status === 200 || response.status === 204){\n          showMessage(`${deletedPersonName} is deleted`, \"red\");\n          setPersons(persons.filter(person => person.id !== id));\n        }\n      })\n      .catch(() => {\n        showMessage(`${deletedPersonName} was already removed from server`, \"red\");\n        setPersons(persons.filter(p => p.id !== id))\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={actionMessage} setMessage={setMessage} />\n      <Filter inputValue={filterNames} inputChange={(e) => setFilterNames(e.target.value)} />\n      <h3>Add a new</h3>\n      <PersonForm\n        onSubmit={submitNumberHandler} \n        nameValue={newName}\n        onChangeName={(e) => setNewName(e.target.value)}\n        numberValue={newNumber}\n        onChangeNumber={(e) => setNewNumber(e.target.value)}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filterNames={filterNames} deleteNumberHandler={deleteNumberHandler} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}